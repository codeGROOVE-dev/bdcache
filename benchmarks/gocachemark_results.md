# gocachemark Results

```
Command: gocachemark -caches multicache,otter,clock,theine,sieve,freelru-sync -outdir /Users/t/dev/r2r/multicache/benchmarks
Environment: darwin/arm64, 16 CPUs, go1.25.4
```

## Hit Rate Benchmarks

### CDN

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| multicache    | 56.74% | 57.86% | 58.79% | 59.70% | 60.55% | 58.727% |
| sieve         | 55.63% | 56.95% | 58.25% | 59.30% | 60.59% | 58.143% |
| clock         | 55.09% | 56.68% | 58.14% | 59.42% | 60.57% | 57.979% |
| freelru-sync  | 54.90% | 56.52% | 57.94% | 59.35% | 60.53% | 57.848% |
| otter         | 54.64% | 55.27% | 55.91% | 57.21% | 59.01% | 56.408% |
| theine        | 54.36% | 55.31% | 55.40% | 55.71% | 59.29% | 56.014% |

  winner: multicache (+1.005% vs sieve)

### Meta

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| multicache    | 59.99% | 67.91% | 74.44% | 79.73% | 83.38% | 73.091% |
| theine        | 57.05% | 64.83% | 70.52% | 75.05% | 81.25% | 69.741% |
| sieve         | 52.10% | 61.56% | 70.02% | 77.17% | 82.45% | 68.659% |
| freelru-sync  | 50.93% | 59.92% | 69.44% | 77.58% | 83.12% | 68.198% |
| clock         | 50.23% | 59.80% | 68.95% | 76.76% | 82.68% | 67.683% |
| otter         | 35.42% | 43.22% | 63.80% | 73.94% | 80.55% | 59.386% |

  winner: multicache (+4.804% vs theine)

### Zipf

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| theine        | 63.08% | 74.11% | 87.16% | 95.01% | 95.01% | 82.875% |
| multicache    | 62.36% | 72.99% | 87.22% | 95.01% | 95.01% | 82.519% |
| sieve         | 61.56% | 73.07% | 87.00% | 95.01% | 95.01% | 82.331% |
| otter         | 61.44% | 73.34% | 86.66% | 95.01% | 95.01% | 82.291% |
| clock         | 56.54% | 70.48% | 86.60% | 95.01% | 95.01% | 80.729% |
| freelru-sync  | 55.57% | 69.55% | 86.11% | 95.01% | 95.01% | 80.251% |

  winner: theine (+0.432% vs multicache)

### Twitter

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| multicache    | 82.34% | 83.90% | 85.02% | 85.97% | 86.77% | 84.801% |
| sieve         | 80.97% | 82.96% | 84.60% | 86.08% | 86.77% | 84.277% |
| freelru-sync  | 80.37% | 82.56% | 84.50% | 86.18% | 86.77% | 84.077% |
| clock         | 80.03% | 82.28% | 84.26% | 86.00% | 86.77% | 83.868% |
| otter         | 79.70% | 81.39% | 83.89% | 85.76% | 86.77% | 83.503% |
| theine        | 80.24% | 81.60% | 82.56% | 84.18% | 86.77% | 83.070% |

  winner: multicache (+0.622% vs sieve)

### Wikipedia

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| multicache    | 21.73% | 25.72% | 30.31% | 35.29% | 40.32% | 30.674% |
| theine        | 21.13% | 25.07% | 29.72% | 34.94% | 40.48% | 30.268% |
| sieve         | 19.61% | 23.92% | 29.16% | 34.83% | 40.95% | 29.694% |
| otter         | 18.94% | 22.76% | 27.74% | 33.69% | 39.26% | 28.478% |
| clock         | 15.46% | 19.36% | 24.45% | 31.15% | 38.93% | 25.871% |
| freelru-sync  | 15.08% | 19.02% | 24.07% | 30.66% | 38.43% | 25.452% |

  winner: multicache (+1.342% vs theine)

### Thesios Block

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| clock         | 17.21% | 17.55% | 17.83% | 18.17% | 18.53% | 17.861% |
| multicache    | 17.12% | 17.57% | 17.86% | 18.16% | 18.54% | 17.853% |
| freelru-sync  | 17.23% | 17.52% | 17.77% | 18.09% | 18.55% | 17.831% |
| sieve         | 16.81% | 17.32% | 17.89% | 18.20% | 18.53% | 17.749% |
| otter         | 15.83% | 16.20% | 16.76% | 17.50% | 18.50% | 16.961% |
| theine        | 14.76% | 15.64% | 16.43% | 17.33% | 18.52% | 16.539% |

  winner: clock (+0.042% vs multicache)

### Thesios File

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| sieve         | 86.99% | 88.10% | 88.38% | 88.38% | 88.38% | 88.044% |
| multicache    | 87.03% | 88.01% | 88.38% | 88.38% | 88.38% | 88.035% |
| clock         | 86.87% | 88.05% | 88.38% | 88.38% | 88.38% | 88.010% |
| freelru-sync  | 87.06% | 87.80% | 88.38% | 88.38% | 88.38% | 88.000% |
| otter         | 86.11% | 87.72% | 88.38% | 88.38% | 88.38% | 87.793% |
| theine        | 79.85% | 86.98% | 88.38% | 88.38% | 88.38% | 86.393% |

  winner: sieve (+0.010% vs multicache)

### IBM Docker

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| clock         | 82.48% | 82.92% | 83.22% | 83.27% | 83.27% | 83.034% |
| freelru-sync  | 82.36% | 82.85% | 83.15% | 83.27% | 83.27% | 82.983% |
| multicache    | 82.17% | 82.94% | 83.19% | 83.27% | 83.27% | 82.968% |
| sieve         | 81.74% | 83.01% | 83.22% | 83.27% | 83.27% | 82.902% |
| otter         | 80.63% | 81.75% | 82.80% | 83.27% | 83.27% | 82.345% |
| theine        | 80.64% | 81.67% | 82.75% | 83.27% | 83.27% | 82.319% |

  winner: clock (+0.061% vs freelru-sync)

### Tencent Photo

| Cache         |    16K |    32K |    64K |   128K |   256K |     Avg |
|---------------|--------|--------|--------|--------|--------|---------|
| multicache    | 13.86% | 16.21% | 19.28% | 23.08% | 26.85% | 19.856% |
| sieve         | 12.80% | 15.09% | 18.15% | 22.51% | 26.96% | 19.099% |
| theine        | 13.33% | 15.34% | 17.60% | 20.25% | 23.54% | 18.012% |
| clock         |  9.89% | 13.53% | 17.60% | 21.88% | 26.16% | 17.811% |
| freelru-sync  |  9.64% | 13.20% | 17.30% | 21.62% | 25.92% | 17.538% |
| otter         | 12.30% | 14.36% | 16.78% | 19.68% | 22.97% | 17.218% |

  winner: multicache (+3.963% vs sieve)

## Latency Benchmarks

### String Keys

| Cache         | Get ns | Get alloc | Set ns | Set alloc | SetEvict ns | SetEvict alloc |    Avg ns |
|---------------|--------|-----------|--------|-----------|-------------|----------------|----------|
| multicache    |      9 |         0 |     22 |         0 |         126 |              2 |    15.500 |
| clock         |     16 |         0 |     21 |         0 |          99 |              2 |    18.500 |
| freelru-sync  |     24 |         0 |     23 |         0 |          35 |              0 |    23.500 |
| sieve         |     22 |         0 |     43 |         0 |         189 |              3 |    32.500 |
| otter         |     36 |         0 |    130 |         1 |         158 |              1 |    83.000 |
| theine        |     83 |         1 |    121 |         0 |         199 |              0 |   102.000 |

  winner: multicache (+19.355% vs clock)

### Int Keys

| Cache         | Get ns | Get alloc | Set ns | Set alloc | SetEvict ns | SetEvict alloc |    Avg ns |
|---------------|--------|-----------|--------|-----------|-------------|----------------|----------|
| multicache    |      7 |         0 |     20 |         0 |         114 |              2 |    13.500 |
| otter         |     35 |         0 |    131 |         1 |         154 |              1 |    83.000 |
| theine        |     77 |         1 |    112 |         0 |         189 |              0 |    94.500 |

  winner: multicache (+514.815% vs otter)

### GetOrSet

| Cache         | GetOrSet ns | GetOrSet alloc |
|---------------|-------------|----------------|
| multicache    |          11 |              0 |
| otter         |          57 |              1 |

  winner: multicache (+418.182% vs otter)

## Throughput Benchmarks

### String Get

| Cache         |  1T       |  8T       | 16T       | 32T       |       Avg |
|---------------|-----------|-----------|-----------|-----------|-----------|
| multicache    |  45.90M   | 363.90M   | 589.14M   | 582.67M   | 395.40M   |
| otter         |  18.95M   | 154.12M   | 322.91M   | 322.47M   | 204.61M   |
| theine        |   8.86M   | 121.35M   | 208.64M   | 184.09M   | 130.74M   |
| sieve         |  33.94M   |   7.17M   |   6.26M   |   6.71M   |  13.52M   |
| clock         |  34.94M   |   6.14M   |   5.42M   |   6.13M   |  13.16M   |
| freelru-sync  |  23.34M   |   6.88M   |   6.07M   |   7.32M   |  10.90M   |

  winner: multicache (+93.242% vs otter)

### String Set

| Cache         |  1T       |  8T       | 16T       | 32T       |       Avg |
|---------------|-----------|-----------|-----------|-----------|-----------|
| clock         |  24.49M   |   6.05M   |   5.31M   |   6.01M   |  10.46M   |
| multicache    |  23.18M   |   6.16M   |   5.23M   |   5.90M   |  10.12M   |
| freelru-sync  |  21.41M   |   6.34M   |   5.66M   |   6.77M   |  10.04M   |
| sieve         |  17.06M   |   5.22M   |   4.68M   |   4.89M   |   7.96M   |
| theine        |   5.05M   |   4.11M   |   3.67M   |   2.93M   |   3.94M   |
| otter         |   6.35M   |   3.04M   |   2.63M   |   2.72M   |   3.68M   |

  winner: clock (+3.402% vs multicache)

### Int Get

| Cache         |  1T       |  8T       | 16T       | 32T       |       Avg |
|---------------|-----------|-----------|-----------|-----------|-----------|
| multicache    |  94.25M   | 727.68M   | 1171.57M   | 1224.30M   | 804.45M   |
| otter         |  25.77M   | 167.82M   | 415.56M   | 403.75M   | 253.22M   |
| theine        |  10.74M   | 159.12M   | 220.00M   | 210.71M   | 150.14M   |

  winner: multicache (+217.684% vs otter)

### Int Set

| Cache         |  1T       |  8T       | 16T       | 32T       |       Avg |
|---------------|-----------|-----------|-----------|-----------|-----------|
| multicache    |  37.26M   |   7.53M   |   5.92M   |   6.84M   |  14.39M   |
| theine        |   7.66M   |   4.73M   |   3.46M   |   3.27M   |   4.78M   |
| otter         |   7.11M   |   2.92M   |   2.69M   |   2.73M   |   3.86M   |

  winner: multicache (+201.017% vs theine)

### GetOrSet

| Cache         |  1T       |  8T       | 16T       | 32T       |       Avg |
|---------------|-----------|-----------|-----------|-----------|-----------|
| multicache    |  41.86M   | 267.28M   | 491.09M   | 503.09M   | 325.83M   |
| otter         |  12.06M   |  92.12M   | 166.30M   | 164.56M   | 108.76M   |

  winner: multicache (+199.593% vs otter)

## Memory Benchmarks

Baseline (map[string][]byte): 35.83 MB

| Cache         | Items Stored | Memory (MB) | Overhead vs map (bytes/item) |
|---------------|--------------|-------------|------------------------------|
| freelru-sync  |        32768 |       35.19 |                          -20 |
| otter         |        32768 |       36.36 |                           16 |
| clock         |        32768 |       37.02 |                           38 |
| multicache    |        32768 |       37.87 |                           65 |
| theine        |        32768 |       38.46 |                           83 |
| sieve         |        32768 |       39.53 |                          118 |

  winner: freelru-sync (+3.315% vs otter)

## Overall Rankings

| Rank | Cache         | Score | Gold | Silver | Bronze |
|------|---------------|-------|------|--------|--------|
|    1 | multicache    |   157 |   12 |      4 |      1 |
|    2 | otter         |    79 |    0 |      6 |      1 |
|    3 | clock         |    72 |    3 |      1 |      3 |
|    4 | theine        |    69 |    1 |      3 |      4 |
|    5 | sieve         |    68 |    1 |      3 |      3 |
|    6 | freelru-sync  |    58 |    1 |      1 |      4 |

